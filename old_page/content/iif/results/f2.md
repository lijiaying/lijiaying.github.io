# f2

## source 
[Interpolants as Classifier](http://theory.stanford.edu/~aiken/publications/papers/cav12a.pdf) by Rahul Sharma, Aditya V. Nori, and Alex Aiken

## program
```c
void main () {

  int x, y, z, w;
  x=y=z=w=0;


  while (nondet() ) {

    if (nondet()) {x++; y = y+2;}
    else if (nondet()) {
      	if (x >= 4) {x++; y = y+3; z = z+10; w = w+10;}
    }
    else if (x >= z && w >= y+1) {x = -x; y = -y; }
    x = x;  /* this works around a VC gen bug */
  }

  if (3*x <= y-1)
    goto ERROR;

  return;
ERROR:;
}
```


## program after instrumentation:
```c
#include<stdio.h>
#include<time.h>
#include<stdlib.h>
#include<iostream>
#include "../header.h"
using namespace std;

bool passP = false;
bool passQ = false;

int main (int argc, char** argv) {
	srand(time(NULL));
	int x, y, z, w;
	if (argc < 3) return -1;
	x = atoi(argv[1]);
	y = atoi(argv[2]);
	z=w=0;

	if (3 * x > y - 1)
		passP = true;

	while (nondet() ) {
		if (passP) 
			cout << "? 1 1:" << x  << " 2:" << y << endl;
		else
			cout << "? -1 1:" << x << " 2:" << y << endl;
		if (nondet()) {x++; y = y+2;}
		else if (nondet()) {
			if (x >= 4) {x++; y = y+3; z = z+10; w = w+10;}
		}
		else if (x >= z && w >= y+1) {x = -x; y = -y; }
		x = x;  /* this works around a VC gen bug */
	}

	if (3 * x > y - 1)
		passQ = true;
	if (passP) {
		if (passQ) cout << "+ 1 1:" << x << " 2:" << y << endl;
		else cout << "x 1 1:" << x << " 2:" << y << endl;
	} else {
		if (passQ) cout << "- -1 1:" << x << " 2:" << y << endl;
		else cout << "+ -1 1:" << x << " 2:" << y << endl;
	}

	return 0;
ERROR:
	return -1;
}

```

## Selective Learning Results:
[out2](https://github.com/lijiaying/FIIF/blob/master/examples/f1a/out2)

```
make: 'ALL' is up to date.
************************************** start **************************************************************
 ...1...svm... 0.0192307692307692[0]  +  -0.0242859505900291[1] >= -0.561757532845297	[100% (8/8)]
 ...2...svm... 0.0684355812975268[0]  +  -0.0422406251990895[1] >= -1.33106266901083	[100% (16/16)]
 ...3...svm... 0.580465245972459[0]  +  -0.129013646135082[1] >= 4.67486952050626	[100% (24/24)]
 ...4...svm... 0.689323976014835[0]  +  -0.20679719280445[1] >= 1.82622830166088	[100% (32/32)]
 ...5...svm... 5.19741679324255[0]  +  -1.99900645893968[1] >= -21.7896671729832	[100% (40/40)]
 ...6...svm... 5.26084021805149[0]  +  -1.99911928285955[1] >= -20.149458393721	[100% (48/48)]
 ...7...svm... 6.00034991454838[0]  +  -2.00011663818302[1] >= -1.00000000001592	[100% (56/56)]
 ...8...svm... 5.99972984527886[0]  +  -1.99991687547094[1] >= -1.00060265287902	[100% (64/64)]
 ...9...svm... 5.99972920033177[0]  +  -1.99991667702477[1] >= -1.00060409153957	[100% (72/72)]
 ...10...svm... 5.99966675762788[0]  +  -1.99988238504531[1] >= -0.999431527752961	[100% (80/80)]
 ...11...svm... 5.99700937868947[0]  +  -1.99900312622971[1] >= -0.999999999994088	[100% (88/88)]
 ...12...svm... 5.99970708000365[0]  +  -1.99989661647191[1] >= -0.99944862119446	[100% (96/96)]
 ...13...svm... 5.99970722642811[0]  +  -1.99989666815113[1] >= -0.999448896799095	[100% (104/104)]
 ...14...svm... 5.99700712308898[0]  +  -1.99900237436293[1] >= -0.999999999994543	[100% (112/112)]
 ...15...svm... 5.99992416506973[0]  +  -1.99996966602794[1] >= -0.999514656446991	[100% (120/120)]
 ...16...svm... 5.99992992390881[0]  +  -1.99997196956451[1] >= -0.999635604386185	[100% (128/128)]
 ...17...svm... 5.99989277734551[0]  +  -1.99996936495609[1] >= -1.00049016071716	[100% (136/136)]
 ...18...svm... 5.99989277734551[0]  +  -1.99996936495609[1] >= -1.00049016071716	[100% (144/144)]
 ...*************************************  end  *************************************************************
adjust coefficiency...>>  6[0]  +  -2[1] >= -1
```